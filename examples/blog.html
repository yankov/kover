<script type='text/javascript' src='../js/sockjs-0.2.min.js'></script>
<script type='text/javascript' src='../js/vertxbus.js'></script>
<script type='text/javascript' src='../js/kover.js'></script>

<!-- Links example -->
<a call="user.met1(2,3)" />link 1</a>
<a call="user.met1(6,2)" />link 2</a>

<!-- Form example: save to the dabase -->
<form call="post.create" style="border: 1px solid black; padding:5px;width:300px;">
  <div>
    <div>Title:</div> 
    <input type="text" name="title"  /> 
  </div>
  <p><textarea name="body" style="width:200px;height:100px;" /></textarea></p>
  <input type="submit" value="Save" />
</form>

<div class="user-create"></div>

<div replace-on="news" class="tpl-news">
  First news block
</div>

<div prepend-on="boom" class="tpl-news">
  Second news block
</div>
<div class="post-get"></div>

<div id="posts">...</div>

<script type="text/javascript">

  var settings = {
    host: "192.168.1.9",
    port: 8080,
    templates: "file:///Users/yankov/projects/kover/examples/templates",
    require: ["user", "post"]
  }

  kover.run(settings, function(){

    // all code goes inside
    console.log(user);
    console.log(post);

    // render template from test.ejs to #boom 
    // kover.View.render("test.ejs", { name: "EPA" }, "boom");

    post.find_all(function(posts){
      document.getElementById('posts').render("post/find_all.ejs", posts );
    });
    

    window.addEventListener('xyz', function(data){
      console.log('hello ' + data.memo.name);
    }, false);

  }); 

</script>
